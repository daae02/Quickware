<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Quickware Distribution</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">

  <!-- Favicons -->
  <link href="img/qw_icon.png" rel="icon">
  <link href="img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,700,900|Lato:400,900" rel="stylesheet">

  <!-- Bootstrap CSS File -->
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="lib/prettyphoto/css/prettyphoto.css" rel="stylesheet">
  <link href="lib/hover/hoverex-all.css" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <link href="css/style.css" rel="stylesheet">
  <script type="text/javascript" src="lib\sweetalert2-11.1.9\package\dist\sweetalert2.all.min.js" >  
  </script>
  <!-- =======================================================
    Template Name: Solid
    Template URL: https://templatemag.com/solid-bootstrap-business-template/
    Author: TemplateMag.com
    License: https://templatemag.com/license/
  ======================================================= -->
</head>
<body>


  <!-- Fixed navbar -->
  <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        <a class="navbar-brand" href="blog.html">Quickware Distribution</a>
      </div>
      <div class="navbar-collapse collapse navbar-right">
        <ul class="nav navbar-nav">
          <li id="bye2"><a href="index.html">PEDIDOS</a></li>
          <li id="bye3"><a href="about.html">PRODUCTOS</a></li>

          <li id="bye" style="display:none" class="dropdown"> 
            <a id="name_user" href="#" class="dropdown-toggle" data-toggle="dropdown"> 
              <i class="fa fa-user fa-fw"></i> Leo <b class="caret"></b></a>
            <ul class="dropdown-menu">     
              <li onclick="return cerrar_ses();">
                <a href="blog.html"><i class="fa fa-sign-out fa-fw"></i> ʕ•́ᴥ•̀ʔっ</a>
              </li>
            </ul>
          </li>  

          <li id="opcion" class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">OPCIONES <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a id="iniciar_ses" href="blog.html">INICIAR SESIÓN</a></li>
              <li><a id="regist" href="single-post.html">REGISTRARSE</a></li>
            </ul>
          </li>
        </ul>
      </div>
      <!--/.nav-collapse -->
    </div>
  </div>

  <!-- *****************************************************************************************************************
	 BLUE WRAP
	 ***************************************************************************************************************** -->
  <div id="blue">
    <div class="container">
      <div class="row">
        <h3>Registrarse</h3>
      </div>
      <!-- /row -->
    </div>
    <!-- /container -->
  </div>
  <!-- /blue -->

    <!-- *****************************************************************************************************************
	 CONTACT FORMS
	 ***************************************************************************************************************** -->


   <div class="container mtb">
    <div class="row">
      <div class="col-lg-8">
        <h4>Bienvenido!</h4>
        <div class="hline"></div>       
        
      <form id="form1"
            class="contact-form"
            accept-charset="UTF-8"    
            onsubmit="return checkin();">


            <div class="form-group">
              <input type="name" name="name" class="form-control" id="name" placeholder="Nombre" data-rule="minlen:4" data-msg="Please enter at least 4 chars" >
              <div class="validate"></div>
            </div>
            <div class="form-group">
              <input type="email" name="email" class="form-control" id="email" placeholder="Correo electrónico" data-rule="email" data-msg="Please enter a valid email">
              <div class="validate"></div>
            </div>
            <div class="form-group">
              <input type="text" name="prefix" class="form-control" id="prefix" placeholder="Prefijo">
              <input type="text" name="phoneNumber" class="form-control" id="phoneNumber" placeholder="Celular">
              <div class="validate"></div>
            </div>
            
            <div class="form-group">
              <input type="text" name="address" class="form-control" id="address" placeholder="Dirección de entrega" data-rule="minlen:4" data-msg="Please enter at least 8 chars of subject">
              <div class="validate"></div>
            </div>
            <div class="form-group">
              <input type="password" name="password" class="form-control" id="password" placeholder="Contraseña" data-rule="minlen:4" data-msg="Please enter at least 8 chars of subject">
              <div class="validate"></div>
            </div>
            <div class="form-group">
              <input type="password" name="password-ver" class="form-control" id="password-ver" placeholder="Verificación Contraseña" data-rule="minlen:4" data-msg="Please enter at least 8 chars of subject">
              <div class="validate"></div>
            </div>            
            <div class="form-group">
              <input type="text" name="enterpriseName" class="form-control" id="enterpriseName" placeholder="Nombre de la empresa" data-rule="minlen:4" data-msg="Please enter at least 8 chars of subject">
              <div class="validate"></div>
            </div>

            <div class="form-send">
              <button type="submit" class="btn btn-large">Registrarse</button>
            </div>

          </form>
      </div>

      <div class="col-lg-4">
        <h4>Contactanos</h4>
        <div class="hline"></div>
        <p>
          Leonardo Fariña +506 87218068,<br/> Diego Alvarez +506 98456878,<br/> Mario Chacon +506 59487612<br/>
        </p>
        <p>
          Email: Quickware@Quickwareteam.com<br/> Tel: +506 8493-4893
        </p>
        <p>Cualquier duda contactanos.</p>
      </div>
    </div>
  </div>

  
  <!-- *****************************************************************************************************************
	 FOOTER
	 ***************************************************************************************************************** -->
   <div id="footerwrap">
    <div class="container">
      <div class="row">
        <div class="col-lg-4">
          <h4>Quickware Distribution</h4>
          <div class="hline-w"></div>
          <p>Somos una de los principales distribuidores en el area de insumos sobre ferreterias. Tenemos la última tecnología.</p>
        </div>
        <div class="col-lg-4">
          <h4>Redes Sociales</h4>
          <div class="hline-w"></div>
          <p>
            <a href="#"><i class="fa fa-dribbble"></i></a>
            <a href="#"><i class="fa fa-facebook"></i></a>
            <a href="#"><i class="fa fa-twitter"></i></a>
            <a href="#"><i class="fa fa-instagram"></i></a>
            <a href="#"><i class="fa fa-tumblr"></i></a>
          </p>
        </div>
        <div class="col-lg-4">
          <h4>Nuestra dirección</h4>
          <div class="hline-w"></div>
          <p>
            Calle 15, Avenida 14., <br/>1 km Sur de la Basílica de los Ángeles., <br/>Provincia de Cartago, Cartago, 30101
          </p>
        </div>

      </div>
    </div>
  </div>

  <div id="copyrights">
    <div class="container">
      <p>
        &copy; Copyrights <strong>Quickware Distribution</strong>. All Rights Reserved
      </p>
    </div>
  </div>
  <!-- / copyrights -->

  <!-- JavaScript Libraries -->
  <script src="lib/jquery/jquery.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.min.js"></script>
  <script src="lib/php-mail-form/validate.js"></script>
  <script src="lib/prettyphoto/js/prettyphoto.js"></script>
  <script src="lib/isotope/isotope.min.js"></script>
  <script src="lib/hover/hoverdir.js"></script>
  <script src="lib/hover/hoverex.min.js"></script>

  <!-- Template Main Javascript File -->
  <script src="js/main.js"></script> 

<script type="text/javascript" >
  function show_msj(){
    Swal.fire({
        title: '¿Quieres Registrarte?',
        showCancelButton: false,
        confirmButtonText: 'Si',
        cancelButtonText: 'No',
        denyButtonText: 'No',
      }).then((result) => {
        /* Read more about isConfirmed, isDenied below */
        if (result.isConfirmed) {
          Swal.fire('Registrado!', '', '')
          document.getElementById('name').value = "";
          document.getElementById('address').value = "";
          document.getElementById('prefix').value = "";
          document.getElementById('phoneNumber').value = "";
          document.getElementById('email').value = "";          
          document.getElementById('password').value = "";
          document.getElementById('password-ver').value = "";
          document.getElementById('enterpriseName').value = "";
        } else if (result.isDenied) {
          Swal.fire('No registrado!', '', '')
        }
      });
  }
  function checkin(){   
    var name1 = document.getElementById('name').value;
    var address1 = document.getElementById('address').value;
    var prefix1 = document.getElementById('prefix').value;
    var phoneNumber1 =  document.getElementById('phoneNumber').value;
    var email1 = document.getElementById('email').value;
    var password1 = document.getElementById('password').value;
    var password2 = document.getElementById('password-ver').value;
    var enterpriseName1 = document.getElementById('enterpriseName').value;
    
    if(name1=="" | address1=="" |prefix1=="" |phoneNumber1=="" |email1=="" |password1=="" |password2=="" |enterpriseName1==""){
      Swal.fire({
      icon: 'error',
      title: 'ERROR',
      text: '¡No se llenaron todos los campos!',
      footer: '<a href="">¿Por que tengo este problema?</a>'
      })
      return false;
    }

    //Máximo 8 caracteres, al menos una letra mayúscula, una letra minúscula, un número y un carácter especial:
    if (/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#@$_-]).{8,}$/.test(password1) == false){
      Swal.fire({
      icon: 'error',
      title: 'ERROR',
      text: '¡Contraseña no valida!',
      footer: '<a href="">¿Por que tengo este problema?</a>'
      })
      return false;
    }

    if (password1 != password2){
      Swal.fire({
      icon: 'error',
      title: 'ERROR',
      text: '¡Verificación de contraseña no coincide!',
      footer: '<a href="">¿Por que tengo este problema?</a>'
      })
      return false;
    }

    if (/^\w+([\.-]?\\w+)*@\w+([\.-]?\w+)*(\.\w{1,3})$/.test(email1) == false){
      Swal.fire({
      icon: 'error',
      title: 'ERROR',
      text: '¡Dirección de correo no valida!',
      footer: '<a href="">¿Por que tengo este problema?</a>'
      })
      return false;
    }
    if (/^\+[1-9]{1}[0-9]{0,6}$/.test(prefix1) == false){
      Swal.fire({
      icon: 'error',
      title: 'ERROR',
      text: '¡Prefijo celular no valido!',
      footer: '<a href="">¿Por que tengo este problema?</a>'
      })
      return false;
    }
    if (/^[1-9]{1}[0-9]{3,14}$/.test(phoneNumber1) == false){
      Swal.fire({
      icon: 'error',
      title: 'ERROR',
      text: '¡Número celular no valido!',
      footer: '<a href="">¿Por que tengo este problema?</a>'
      })
      return false;
    }
    

    var chek = 0;   
      $.ajax({
        type: 'POST',
        url: 'http://localhost:3000/createClient/',
        data: JSON.stringify (
          {
            name : document.getElementById('name').value,
            address: document.getElementById('address').value,
            phoneNumber :  document.getElementById('phoneNumber').value,
            email: document.getElementById('email').value,
            password: document.getElementById('password').value,
            enterpriseName: document.getElementById('enterpriseName').value,
          }),
        success: function (response) {
          chek = 1;
          show_msj();
        },
        error: function (xhr, ajaxOptions, thrownError) {          
          chek = 0;                  
          alert(xhr.responseJSON.message);    
        },
        contentType: "application/json",
        dataType: 'json'
      });
      if (chek == 0){
        return false;
      }
      return true;

  }
</script>

<script type="text/javascript">  
  if(localStorage.store_email != ""){
    document.getElementById("opcion").style.display = "none";  
    document.getElementById("bye").style.display = "block";  
    document.getElementById("bye2").style.display = "block"; 
    document.getElementById("bye3").style.display = "block"; 
    document.getElementById("name_user").innerHTML = '<i class="fa fa-user fa-fw"></i>'+localStorage.store_email+'<b class="caret"></b>'; 
  }else{          
    document.getElementById("opcion").style.display = "block";          
    document.getElementById("bye").style.display = "none"; 
    document.getElementById("bye2").style.display = "none"; 
    document.getElementById("bye3").style.display = "none"; 
    document.getElementById("name_user").textContent = ""; 
  }
  function cerrar_ses(){
    localStorage.store_email = "";
    return;
  }
</script>

</body>
</html>
